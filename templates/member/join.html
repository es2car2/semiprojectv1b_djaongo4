{# Django template language                                                 #}
{# Django의 템플릿에 사용할 수 있는 특수한언어                                    #}
{# => 템플릿 변수, 템플릿 태그, 템플릿 필터, 템플릿 코멘트                          #}
{# 템플릿 변수 : {{ 변수명 or 객체명.속성명 }}                                    #}
{# 템플릿 태그 : {% 태그명 or 코드명 %}                                          #}
{# 템플릿 필터 : 변수값을 특정한 형식으로 변경 {% 변수명 | 필터명 %}                  #}
{# 템플릿 코멘트 : 주석. {% comment %} 여러줄 주석 {% endcomment %}               #}




{% extends 'layout/base.html' %}

{% block title %}

    member/join

{% endblock %}




    {% block style %}

        /* #main { height: 500px } */
        input:focus { background: khaki}
        input:hover { background: tomato}
        /* 로그인 폼 배치하기 */
        form { border: 0px solid crimson; width: 350px; margin: 150px auto}

        /* 회원가입 폼 요소에 여백주기 */

        form div { margin-top: 10px }

        /* 회원가입 폼 라벨에 너비 설정 */
        /* display - 인라인요소를 블록요소로 변경 */
        form label { display:inline-block;
        width: 120px; font-weight: bold}

        /* 회원가입 폼 버튼 위치 설정 */
        form button:first-child { margin-left: 10px}

        #warp { border: 0px solid crimson; width: 1250px; margin: 0 auto}



    {% endblock %}




{% block content %}

        <h1>회원가입</h1>

        <br>
        <br>
        <br>
        <nav>
            <ul>
                <form name="joinfrm" id="joinfrm" method="post">

                    <div style="color: crimson">
                        {# Django built-in template fillter #}
                                {{ error|safe }}

                    </div>

                    {% csrf_token %} {# 동일출처origin 확인용 쿠키 생성 #}
                    <div>
                        <label for="userid">아이디</label>
                        <input type="text" name="userid" id="userid" value="{{ form.userid }}">
                    </div>
                    <div>
                        <label for="passwd">비밀번호</label>
                        <input type="password" name="passwd" id="passwd">
                    </div>
                    <div>
                        <label for="repasswd">비밀번호확인</label>
                        <input type="password" name="repasswd" id="repasswd">
                    </div>
                    <div>
                        <label for="name">이름</label>
                        <input type="password" name="name" id="name" value="{{ form.name }}">
                    </div>
                    <div>
                        <label for="email">이메일</label>
                        <input type="password" name="email" id="email" value="{{ form.email }}">
                    </div>
     <!-- 편집하기 편하게 하기 위해서 빈 라벨을 넣어줌 -->
                    <div><label></label>
                         <button type="submit" id="joinbtn">입력완료</button>
                         <button type="reset">다시입력</button>
                    </div>
                </form>
            </ul>
        </nav>
        <hr>

     {% endblock %}

    {% block jscript %}

        <script>

            const joinfrm = document.querySelector('#joinbtn')
            joinfrm.addEventListener('submit',(e) => {
                let userid = document.joinfrm.userid;
                let passwd = document.joinfrm.passwd;
                let repasswd = document.joinfrm.repasswd;
                let name = document.joinfrm.name;
                let email = document.joinfrm.email;

                if (userid.value == '') {
                    alert('아이디 입력');
                    userid.focus();
                    e.preventDefault();
                } else if (passwd.value == '') {
                    alert('비밀번호 입력');
                    passwd.focus();
                    e.preventDefault();
                } else if (repasswd.value == '') {
                    alert('비밀번호 다시 입력');
                    repasswd.focus();
                    e.preventDefault();
                } else if (name.value == '') {
                    alert('이름 입력');
                    name.focus();
                    e.preventDefault();
                } else if (email.value == '') {
                    alert('이메일 입력');
                    email.focus();
                    e.preventDefault();
                } else if (passwd.value !== repasswd.value) {
                    alert('비밀번호 일치하지 않음');
                    passwd.focus();
                    e.preventDefault();
                }
            })



        </script>


    {% endblock %}
